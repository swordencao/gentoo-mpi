#%Module
# hpl module depends on openmpi

set mpi_package hpl
set root /usr/lib/$mpi_package

# TODO: return error to eselect files
if { ! [ info exists env(MPIHOME) ] } {
  puts stderr "Need to load an MPI module first"
  exit 1
}

# set paths
prepend-path    MPI_PACKAGES    $mpi_package
prepend-path    LD_LIBRARY_PATH    $root/lib
prepend-path    LIBRARY_PATH    $root/lib
prepend-path    PATH    $root/bin
prepend-path    PKG_CONFIG_PATH    $root/lib/pkgconfig
